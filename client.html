
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="assets/layui/layui/css/layui.css" rel="stylesheet">
    <title>新媒体平台-客户端文档</title>
    <style type="text/css">
        a{
            color: #5FB878;
        }
        .head{
            color: #5FB878;
        }
    </style>
</head>
<body>
<ul class="layui-nav layui-nav-tree layui-bg-cyan layui-nav-side" lay-filter="">
    <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
    <li class="layui-nav-item">
        <a href="index.html">首页</a>
    </li>
    <li class="layui-nav-item layui-nav-itemed">
        <a href="client.html">客户端文档</a>
        <dl class="layui-nav-child">
            <dd><a href="client.html#1">用户相关接口</a></dd>
            <dd><a href="client.html#2">新闻相关接口</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item">
        <a href="admin.html">管理员端文档</a>
        <dl class="layui-nav-child">
            <dd><a href="admin.html#1">用户相关接口</a></dd>
            <dd><a href="admin.html#2">新闻相关接口</a></dd>
            <dd><a href="admin.html#3">权限相关接口</a></dd>
            <dd><a href="admin.html#4">统计相关接口</a></dd>
        </dl>
    </li>
</ul>
<div  style="margin-left: 300px; margin-top: 2%;float: left">
    <fieldset class="layui-elem-field" style="padding: 5%;">
        <legend>客户端接口文档</legend>
        <div class="layui-field-box">
            <a name="1"></a>
            <legend>用户相关接口</legend>
            <hr class="layui-bg-green">
            <table class="layui-table" lay-skin="row">
                <colgroup>
                    <col width="200">
                    <col width="200">
                    <col width="200">
                    <col width="400">
                </colgroup>
                <thead>
                <tr>
                    <th>接口名称</th>
                    <th>API调用名</th>
                    <th>类型</th>
                    <th>功能介绍</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>用户登入</td>
                    <td><a href="#y1">user-portal</a></td>
                    <td>form</td>
                    <td>用于用户登入系统,置于微信公众号的菜单栏作为系统入口。采用微信安全登录授权openId进行登陆,前端需要根据产生的几种可能结果产出页面,后台选择进行跳转。</td>
                </tr>
                <tr>
                    <td>提交审核信息</td>
                    <td><a href="#y2">user-verify</a></td>
                    <td>form</td>
                    <td>当openId检测为新用户时,跳转到该页面提交审核信息。</td>
                </tr>
                </tbody>
            </table>
            <br>
            <a name="y1"></a>
            <table class="layui-table" lay-even lay-skin="nob">
                <colgroup>
                    <col width="1000">
                </colgroup>
                <thead>
                <tr>
                    <th><strong class="head">user-portal : 用户登入接口</strong></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><strong>功能介绍 :</strong> 用于用户登入系统,置于微信公众号的菜单栏作为系统入口。采用微信安全登录授权openId进行登陆,前端需要根据产生的几种可能结果产出页面,后台选择进行跳转。</td>
                </tr>
                <tr>
                    <td><strong>所需参数 :</strong> 不需要</td>
                </tr>
                <tr>
                    <td><strong>实现方式 :</strong> 使用微信提供的微信安全登录URL拼接静默参数和重定向地址URL(此URL需经过转码)。用户点击后会自动微信静默授权,定向到之前传入的重定向地址,并带回参数code,后台用code换取用户openId。
                        获取后,在数据库中查找是否有该用户的openId,若没有则跳转至verify.jsp页面进行用户信息输入。若用户存在,则检查用户的身份,若身份为0(未审核通过),则跳转至等待审核页面。若不为0,
                    则在session中放入user,准许通过,跳转至主页。</td>
                </tr>
                </tbody>
            </table>
            <br>
            <a name="y2"></a>
            <table class="layui-table" lay-even lay-skin="nob">
                <colgroup>
                    <col width="1000">
                </colgroup>
                <thead>
                <tr>
                    <th><strong class="head">user-verify : 审核信息提交接口</strong></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><strong>功能介绍 :</strong> 用于用户登入系统,置于微信公众号的菜单栏作为系统入口。采用微信安全登录授权openId进行登陆,前端需要根据产生的几种可能结果产出页面,后台选择进行跳转。</td>
                </tr>
                <tr>
                    <td><strong>所需参数 :</strong> 不需要</td>
                </tr>
                <tr>
                    <td><strong>实现方式 :</strong> 使用微信提供的微信安全登录URL拼接静默参数和重定向地址URL(此URL需经过转码)。用户点击后会自动微信静默授权,定向到之前传入的重定向地址,并带回参数code,后台用code换取用户openId。
                        获取后,在数据库中查找是否有该用户的openId,若没有则跳转至verify.jsp页面进行用户信息输入。若用户存在,则检查用户的身份,若身份为0(未审核通过),则跳转至等待审核页面。若不为0,
                        则在session中放入user,准许通过,跳转至主页。</td>
                </tr>
                </tbody>
            </table>
            <br>
            <a name="2"></a>
            <legend>新闻相关接口</legend>
            <hr class="layui-bg-green">
        </div>
    </fieldset>
</div>
<script src="assets/layui/layui/layui.js"></script>
<script>
    //注意：导航 依赖 element 模块，否则无法进行功能性操作
    layui.use('element', function(){
        var element = layui.element;

        //一些事件监听
        element.on('tab(demo)', function(data){
            console.log(data);
        });
    });
    layui.use('carousel',function () {
        var carousel = layui.carousel;
        carousel.render({
            elem : "#imgs",
            width : "100%",
            arrow: 'always'
        });
    });
    layui.use('table', function(){
        var table = layui.table;
    });
</script>
</body>
</html>
